model Order {
    id        Int         @id @default(autoincrement())
    user      User        @relation(fields: [userId], references: [id])
    userId    Int         @map("user_id")
    status    OrderStatus @default(PENDING)
    total     Float
    createdAt DateTime    @default(now()) @map("created_at")

    items OrderItem[]

    @@map("order")
}

model OrderItem {
    id              Int            @id @default(autoincrement())
    order           Order          @relation(fields: [orderId], references: [id])
    orderId         Int            @map("order_id")
    productVariant  ProductVariant @relation(fields: [variantId], references: [id])
    variantId       Int            @map("variant_id")
    quantity        Int
    priceAtPurchase Float

    @@map("order_item")
}
